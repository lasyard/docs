# 飞机加油问题

## 题目

每个飞机有一个油箱，飞机之间可以相互加油，一箱油可供一架飞机绕地球飞半圈。为使至少一架飞机绕地球一圈回到起飞时的飞机场，至少需要出动几架次飞机？（要求所有飞机从同一机场起飞，而且必须安全返回机场，不允许中途降落。）

## 分析

我们将这个问题一般化。为了简单，我们用飞机一箱油能够飞出的距离作为长度单位。

设有 $n$ 架飞机在距离起点 $y$ 远的地方全部满油，这些飞机飞出 $x$ 米之后，其中 $m$ 架给剩下的 $n - m$ 架飞机加满油然后返回起点。返回的 $m$ 架飞机能够匀出的油量是 $m(1 - y - 2x)$, 继续前进的 $n - m$ 架飞机需要的油量是 $(n - m)x$, 于是就有：

$$
m(1 - y - 2x) = (n - m)x
$$ (ai1)

可得：

$$
x = \frac {m(1 - y)} {n + m}
$$ (ai2)

如果我们让这 $m$ 架飞机一架一架的返回，剩下的飞机可以飞更远的距离。让我们来计算一下，用 $x_k$ 表示第 $k$ 架飞机返回时比第 $k - 1$ 架飞机返回时多飞出的距离，用 $y_k$ 表示第 $k$ 架飞机与剩余的其他飞机都满油时离开起点的距离，也就是第 $k - 1$ 架飞机返回时离开起点的距离。

当第一架飞机返回时：

$$
x_1 = \frac {1 - y_0} {n + 1}
$$ (ai3)

第二架返回时：

$$
\begin{split}
x_2 &= \frac {1 - y_1} {(n - 1) + 1} \\
    &= \frac {1 - (y_0 + x_1)} n \\
    &= \frac {1 - (y_0 + \frac {1 - y_0} {n + 1})} n \\
    &= \frac {1 - y_0} {n + 1}
\end{split}
$$ (ai4)

观察公式 {eq}`ai3` 与 {eq}`ai4`, 可发现 $x_2 = x_1$. 不难证明：

$$
\forall k \in [1, m], x_k = \frac {1 - y_0} {n + 1}
$$ (ai5)

因此，到 $m$ 架飞机返回时，飞出的距离：

$$
x_1 + x_2 + \dots + x_m = \frac {m(1 - y_0)} {n + 1}
$$ (ai6)

显然，这要比 $\frac {m(1 - y_0)} {n + m}$ 大。

回到开始的问题，当 $y_0 = 0$, 也就是从起点出发，并且我们只需保证有一架飞机最后加满油，也就是 $m = n - 1$, 能够飞出的距离是 $\frac {n - 1} {n + 1}$. 绕地球一圈的路程是 $2$, 我们只需让一架飞机在 $\frac 1 2$ 时加满油，最后 $\frac 1 2$ 的路程可以另外让飞机去接，接的方法和送的方法完全一样，只是整个过程倒过来而已。显然，$n = 3$ 即可满足条件。

## 答案

$5$ 架飞机。
