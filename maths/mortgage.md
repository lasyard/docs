# 贷款公式计算

## 等额本息还款法

等额本息还款法的特点是每期还款额（包含本期产生的利息和一部分本金）是相同的。

设贷款总金额为 $A$, 每期利率为 $p$, 总期数为 $n$, 并设 $A_i$ 为第 $i$ 期剩余本金，也就是 $A_1 = A$, $x_i$ 为第 $i$ 期还掉的本金数额，则：

$$
A_1p + x_1 = A_2p + x_2 = \cdots = A_kp + x_k
$$ (mo1)

而：

$$
A_k = A_{k-1} - x_{k-1}
$$ (mo2)

综合 {eq}`mo1`, {eq}`mo2`, 可得：

$$
\begin{split}
A_{k-1}p + x_{k-1} &= A_kp + x_k \\
                   &= (A_{k-1} - x_{k-1})p + x_k \\
                   &= A_{k-1}p - x_{k-1}p + x_k
\end{split}
$$ (mo3)

于是：

$$
x_k = (1 + p)x_{k-1}
$$ (mo4)

进而有：

$$
\forall i \in [2, n], x_i = (1 + p)^{i-1}x_1
$$ (mo5)

所有还掉的本金之和就是贷款总金额，也就是：

$$
\sum_{i = 1}^n x_i = A
$$ (mo6)

于是得：

$$
\sum_{i = 1}^n (1 + p)^{i-1} x_1 = \frac {(1 + p)^n - 1} p x_1 = A
$$ (mo7)

也就是：

$$
x_1 = \frac p {(1 + p)^n - 1} A
$$ (mo8)

由于每期的还款额是相同的，故可以拿第一期来计算，还款额应为第一期还掉的本金加上第一期利息，也就是：

$$
x_1 + Ap = (\frac p {(1 + p)^n - 1} + p)A = \frac {p (1 + p)^n} {(1 + p)^n - 1} A
$$ (mo9)

2. 等额本金还款法

等额本金还款法的特点是每期还掉的本金是相同的。由于本金逐渐减少，每期产生的利息也随之减少，故每期的还款额也是逐渐减少的。

设贷款总金额为 $A$, 每期利率为 $p$, 总期数为 $n$, 则每期还掉的本金数额为 $\frac A n$. 设 $A_i$ 为第 $i$ 期剩余本金，于是有：

$$
A_i = A - (i - 1) \frac A n
$$ (mo10)

第 $i$ 期产生的利息是第 $i$ 期的剩余本金乘以每期利率，也就是：

$$
A_{i-1}p = (A - (i - 1) \frac A n)p
$$ (mo11)

于是第 $i$ 期应还款额为：

$$
\frac A n + (A - (i - 1) \frac A n)p = \frac {p(n - i + 1) + 1} n A
$$ (mo12)
